<div class="row row-cols-1 row-cols-md-4 row-cols-sm-2 g-3 mt-2">
  <% projects.each do |project| %>
    <div class="col">
      <div class="card h-100 shadow-sm border-0" style="border-radius: 12px; background-color: white;">
        <div class="card-body d-flex flex-column justify-content-between">
          <!-- Project Details -->
          <div>
            <h5 class="card-title fw-bold text-black" style="font-size: 1.25rem;">
              <%= project.name %>
            </h5>
            <div>
              <span class="fw-medium"><%= project.expertise %></span>
            </div>
            <div class="tooltips-container" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-title="Topics: <%= Array(project.key_topics).join(', ') %>">
              <% Array(project.key_topics).each do |t| %>
                <span class="topic-item"><%= t %></span><%= ',' unless t == project.key_topics.last %>
              <% end %>
            </div>
            <div class="tooltips-container" data-bs-toggle="tooltip" title="<%= Array(project.location).join('; ') %>">
              <% Array(project.location).each do |l| %>
                <span class="badge rounded-pill location_badge">
                  <%= l %>
                </span>
              <% end %>
            </div>
          </div>
          <div class="mt-3">
            <p class="mb-1"><i class="fa-regular fa-calendar"></i> <strong><%= I18n.t("projects.fields.start_date") %>:</strong> <%= project.time_period_start&.strftime('%d.%m.%Y') %></p>
            <p class="mb-1"><i class="fa-regular fa-calendar-plus"></i> <strong><%= I18n.t("projects.fields.updated_at") %>:</strong> <%= project.updated_at&.strftime('%d.%m.%Y') %></p>
            <p class="mb-1"><i class="fa-regular fa-calendar-check"></i> <strong><%= I18n.t("projects.fields.end_date") %>:</strong> <%= project.time_period_end&.strftime('%d.%m.%Y') %></p>
          </div>
          <!-- Arrow Button -->
          <div class="mt-3 text-end">
            <%= link_to project_path(project), method: :get, class: "btn btn-light text-danger btn-full-width" do %>
              <i class="fas fa-arrow-right"></i>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>
